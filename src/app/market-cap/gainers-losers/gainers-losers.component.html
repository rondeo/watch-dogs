<div>

    <mat-form-field class="w6">
        <mat-select [(ngModel)]="top" (change)="onTopChange($event)" placeholder="by Rank">
            <mat-option value="all">All</mat-option>
            <mat-option value="top100">Top 100</mat-option>
            <mat-option value="top200">Top 200</mat-option>
            <mat-option value="100_200">100-200</mat-option>
            <mat-option value="200_300">200-300</mat-option>
            <mat-option value="after200"> > 200</mat-option>
            <mat-option value="after100"> > 100</mat-option>

        </mat-select>
    </mat-form-field>

    <mat-form-field class="w6">
        <mat-select [(ngModel)]="exchange" (change)="onExcgangeChange($event)" placeholder="Exchange">
            <mat-option value="all">All</mat-option>
            <mat-option *ngFor="let exchange1 of exchanges" [value]="exchange1">{{exchange1}}</mat-option>
        </mat-select>
    </mat-form-field>

    <small>
        <span> {{exchgangeCoinsTop350.length}} </span>
        of
        <span> {{exchangeCoins.length}} </span>
    </small>


    <button mat-button [matMenuTriggerFor]="menu"><span class="large">&</span></button>
    <mat-menu #menu="matMenu">
        <div *ngFor="let exchange of exchanges">
            <mat-checkbox [value]="exchange" (change)="onExchangesChange($event, exchange)">{{exchange}}</mat-checkbox>
        </div>
    </mat-menu>

    <div>
        <span *ngFor="let exchange2 of selectedExchanges"> & {{exchange2}} </span>
    </div>


    <section>
        <mat-checkbox [(ngModel)]="isToBTC" (ngModelChange)="onToBtcChange($event)" >To BTC</mat-checkbox>
        <span class="fa fa-refresh fa-2x dgreen right btn" (click)="onRefreshClick()"></span>

        <table class="mat-body">
            <tbody>
            <tr>
                <td colspan="3"></td>
                <td colspan="5" class="text-center">
                    <!--  <small class="btn" (click)="onToBTCClick()">% to btc</small>
                      <span class="mat-body-2"> <sup>$</sup> {{(+btcMC.price_usd.toFixed(0)).toLocaleString()}}</span>-->
                </td>
                <td colspan="3" class="text-center">
                    <small>CMC</small>
                </td>
            </tr>
            <tr class="small">
                <th>Symbol</th>

                <th class="btn" (click)="onClickHeader('rank')">Rank</th>
                <th class="btn" (click)="onClickHeader('rankD')">R 15h</th>
                <th> BTC D</th>


                <th class="btn" (click)="onClickHeader('percent_change_1h')">1h%</th>
                <th class="btn" (click)="onClickHeader('percent_change_24h')">24h%</th>
                <th class="btn" (click)="onClickHeader('percent_change_7d')">7d%</th>
            </tr>
            <tr>
                <td>
                    <span>BTC</span>
                </td>
                <td>1</td>
                <td>{{btcMC.rank}}</td>
                <td>0</td>
                <td><span [myValueColor]="btcMC.percent_change_1h"></span></td>
                <td><span [myValueColor]="btcMC.percent_change_24h"></span></td>
                <td><span [myValueColor]="btcMC.percent_change_7d"></span></td>

            </tr>

            <tr *ngFor="let item of sortedAndFiltered">
                <td>
                    <a class="btn small"
                       routerLink="/trader/analyze-coin/{{item.symbol}}/{{exchange}}"
                       title="{{item.name}}"
                    >
                        {{item.symbol}}
                    </a>
                </td>

                <td>

                    {{item.rank}}

                </td>

                <td class="w50" [ngClass]="item.rankD>0?'dgreen':'dred'">
                    <span
                            (mouseover)="onMouseOver(item)"
                            matTooltip="{{tooltipMessage}}"
                            class="btn"
                    >
                         {{item.rankD}}
                    </span>
                </td>

                <td>
                    <span [myValueColor]="item.price_btcD">
                        {{item.price_btcD}}
                    </span>
                </td>

                <td>
                    <span class="w50" [myValueColor]="item.percent_change_1h"></span>
                </td>
                <td>
                    <span class="w50" [myValueColor]="item.percent_change_24h"></span>
                </td>
                <td class="w50" [ngClass]="item.percent_change_7d>0?'dgreen':'dred'">
                    {{item.percent_change_7d}}
                </td>
                <td>
                    <small class="btn" (click)="onNewsClick(item.name, 0)">{{item.news1}}</small>
                    <small class="btn" (click)="onNewsClick(item.name, 1)">{{item.news2}}</small>

                </td>
            </tr>
            </tbody>
        </table>
        <!-- <app-sortable-table [consAvailable]="gainersAr" (selectedSymbol)="onSymbolSelected($event)"></app-sortable-table>-->
    </section>
</div>
